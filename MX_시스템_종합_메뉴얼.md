# MX 창고 관리 시스템 종합 메뉴얼

## 목차
1. [시스템 개요](#시스템-개요)
2. [시작하기](#시작하기)
3. [관리자(Admin) 기능](#관리자admin-기능)
4. [PDA 기능 (구현 예정)](#pda-기능-구현-예정)
5. [마스터 관리](#마스터-관리)
6. [주요 프로세스](#주요-프로세스)
7. [데이터베이스 구조](#데이터베이스-구조)
8. [문제 해결](#문제-해결)
9. [부록](#부록)

---

## 시스템 개요

### MX WMS란?
MX 창고 관리 시스템(Warehouse Management System)은 컨테이너 단위 기반의 창고 관리 솔루션입니다. 입고, 출고, 재고 관리, 위치 추적 등의 기능을 제공하며, 실시간 데이터 동기화를 통해 효율적인 창고 운영을 지원합니다.

### 주요 특징
- **컨테이너 단위 관리**: 제품을 컨테이너 단위로 관리하여 재고 추적을 단순화
- **웹 기반 시스템**: 브라우저에서 바로 사용 가능, 별도 설치 불필요
- **역할 기반 접근**: Admin(관리자) 권한 기반 접근 제어
- **다국어 지원**: 한국어, 영어 지원
- **실시간 데이터**: Supabase를 통한 실시간 데이터 동기화
- **시각적 위치 관리**: SVG 기반 위치 맵으로 직관적인 위치 확인

### 시스템 구조
```
MX WMS 시스템
├── 로그인 페이지 (login.html)
├── 관리자 대시보드 (admin/)
│   ├── 📦 입고 계획 (Receiving Plan)
│   ├── 📍 위치 보기 (Location View)
│   ├── 🚚 출고 확정 (Shipping Confirmation)
│   ├── 📊 보고서 (Report)
│   ├── 📈 일일 입출고 리포트 (Daily Report)
│   └── ⚙️ 마스터 관리
│       ├── 장소 마스터 관리
│       ├── 문제 컨테이너 관리
│       ├── 시각적 위치 편집기
│       └── Delivery Location 관리
└── PDA 시스템 (pda/) - 구현 예정
    ├── 입고 처리
    ├── 출고 처리
    ├── 위치 찾기
    └── 출하지시서 생성
```

---

## 시작하기

### 1. 로그인

1. 브라우저에서 시스템에 접속합니다.
2. 로그인 페이지가 자동으로 표시됩니다.
3. **Role 선택**: 
   - **Admin**: 관리자 권한 (모든 기능 접근)
   - **PDA**: 현장 작업자 권한 (구현 예정)
4. **비밀번호 입력**: 기본 비밀번호 입력
5. **Login** 버튼을 클릭합니다.

> **참고**: ID는 선택한 Role과 자동으로 동일하게 설정됩니다.

### 2. 언어 변경

#### 관리자 페이지
- 상단 우측의 **한국어** 또는 **English** 버튼을 클릭하여 언어를 변경할 수 있습니다.

#### PDA 페이지 (구현 예정)
- 향후 상단 우측의 **한국어**, **English**, **Español** 버튼을 클릭하여 언어를 변경할 수 있습니다.

### 3. 로그아웃

- 사이드바 하단의 **로그아웃** 버튼 클릭

---

## 관리자(Admin) 기능

관리자 대시보드에 접속하면 왼쪽 사이드바에 다음 메뉴들이 표시됩니다:

### 1. 📦 입고 계획 (Receiving Plan)

**기능**: 입고 예정 컨테이너를 등록하고 관리합니다.

#### 주요 작업
- 입고 예정 컨테이너 정보 입력
- 입고 날짜 설정
- 위치 지정 (자동 또는 수동)
- 제품 정보 입력
- 입고 계획 조회 및 수정
- 강제 입고 처리

#### 사용 방법

**새 입고 계획 등록:**
1. 사이드바에서 "📦 Receiving Plan" 클릭
2. **"+ Add New Plan"** 버튼 클릭
3. 다음 정보 입력:
   - **Receiving Type**: Container 또는 Trailer 선택
   - **Container No.**: 컨테이너 번호 입력
   - **Location**: 
     - 드롭다운에서 빈 위치 선택, 또는
     - "📍 빈 위치 시각적으로 보기" 버튼으로 시각적 맵에서 선택
   - **Receiving Place**: 입고처 선택 (Logis, PTM, Port 등)
   - **Planned Receiving Date**: 예정 입고일 선택
   - **제품 정보**: 드롭다운에서 선택하거나 직접 입력
4. **저장** 버튼 클릭

**입고 계획 검색:**
- 상단 필터를 사용하여 다음 조건으로 검색:
  - Receiving Type (Container/Trailer)
  - Container No.
  - 제품 정보 (Part No.)
  - Status (Received/Not Received)
  - Start Date / End Date

**강제 입고 처리:**
- 입고 계획 목록에서 **"Force Receive"** 버튼 클릭
- 입고일 선택 후 확인

**입고 계획 수정/삭제:**
- 목록에서 **"수정"** 버튼 클릭하여 정보 수정
- **"Delete"** 버튼으로 삭제 (출고 확정된 항목은 삭제 불가)

---

### 2. 📍 위치 보기 (Location View)

**기능**: 창고 내 제품/컨테이너의 위치를 시각적으로 확인하고 출하지시서를 생성합니다.

#### 주요 작업
- 위치 코드로 제품 검색
- 제품 정보로 위치 검색
- 위치 맵에서 제품 위치 확인
- 위치별 재고 현황 조회
- 출하지시서 생성 및 프린트

#### 사용 방법

**위치 검색:**
1. 사이드바에서 "📍 Location View" 클릭
2. 필터 옵션 선택:
   - **위치 코드**: 특정 위치 코드로 검색
   - **제품명**: 드롭다운에서 제품 정보 선택
3. 검색 결과가 맵에 표시됩니다

**위치 정보 확인:**
- 맵에서 위치를 클릭하면 사이드 패널에 다음 정보가 표시됩니다:
  - 컨테이너 번호
  - 입고일
  - 제품 정보

**출하지시서 생성:**
1. 위치를 클릭하여 사이드 패널 열기
2. **"출하지시"** 버튼 클릭
3. 다음 정보 입력:
   - **출고 날짜**: 출고 예정일 선택
   - **Delivery Location**: 배송지 선택
4. **"출하지시"** 버튼 클릭하여 생성
5. 생성 후 **"출하지시서 프린트"** 버튼이 표시됩니다

**출하지시서 프린트:**
- 출하지시서가 생성된 위치에서만 프린트 버튼이 표시됩니다
- 버튼 클릭 시 출하지시서 라벨이 새 창에서 열립니다

---

### 3. 🚚 출고 확정 (Shipping Confirmation)

**기능**: 출고 지시서를 확인하고 출고를 확정합니다.

#### 주요 작업
- 출고 지시서 목록 조회
- 출고 상태 확인
- 출고 확정 처리 (출고일 선택)
- 출고 취소 (원복)
- 출하지시서 라벨 프린트

#### 사용 방법

**출고 지시서 조회:**
1. 사이드바에서 "🚚 Shipping Confirmation" 클릭
2. 필터를 사용하여 검색:
   - **컨테이너 번호**: 특정 컨테이너 검색
   - **제품 정보**: 제품 정보로 검색
   - **상태**: 전체/대기중/출고완료
   - **출하일**: 날짜로 필터링
3. **"검색"** 버튼 클릭

**출고 확정:**
1. 목록에서 출고할 항목 선택
2. **"출고 확정"** 버튼 클릭
3. 모달에서 출고일 선택/확인
   - 기존 출고일과 다르면 자동으로 업데이트됩니다
4. **"확인"** 버튼 클릭하여 확정

**출고 취소:**
- 출고 확정된 항목은 **"출고 취소"** 버튼이 표시됩니다
- 클릭 시 출고 상태가 '대기중'으로 원복되고 위치 정보가 복구됩니다

**출하지시서 라벨 프린트:**
- 목록에서 **"라벨 프린트"** 버튼 클릭
- 출하지시서 라벨이 새 창에서 열립니다

**주의사항:**
- 출고 확정된 항목은 삭제할 수 없습니다
- 출고 취소 기능을 사용하여 원복할 수 있습니다

---

### 4. 📊 보고서 (Report)

**기능**: 입출고 현황을 종합적으로 조회하고 Excel로 내보냅니다.

#### 주요 작업
- 입고/출고 데이터 조회
- 기간별 통계 확인
- Excel 파일로 내보내기
- Duration (재고 기간) 계산

#### 사용 방법

**보고서 조회:**
1. 사이드바에서 "📊 Report" 클릭
2. 필터 설정:
   - **제품 정보**: 특정 제품으로 필터링
   - **기간**: 시작일/종료일 선택
3. **"검색"** 버튼 클릭

**보고서 내용:**
- **NO.**: 순번
- **CONTAINER NO.**: 컨테이너 번호
- **제품 정보**: 제품 정보 (remark)
- **IN DATE**: 입고일
- **OUT DATE**: 출고일
- **FROM**: 입고처
- **LOCATION**: 위치 코드
- **DURATION**: 재고 기간 (일 단위)
- **STATUS**: 상태
- **REMARK**: 비고

**Excel 다운로드:**
1. 보고서 조회 후 **"Excel 다운로드"** 버튼 클릭
2. Excel 파일이 다운로드됩니다
3. 포함된 시트:
   - **INOUT REPORT**: 전체 입출고 리포트
   - **TODAY INOUT**: 오늘의 입출고 현황

---

### 5. 📈 일일 입출고 리포트 (Daily Report)

**기능**: 일일 입출고 현황을 한눈에 확인합니다.

#### 주요 작업
- 오늘 날짜의 입고/출고 현황 확인
- 입고/출고 통계 조회
- 차트를 통한 시각화

#### 사용 방법

1. 사이드바에서 "📈 일일 입출고 리포트" 클릭
2. 자동으로 오늘 날짜의 데이터가 표시됩니다
3. 다음 정보를 확인:
   - 입고 통계
   - 출고 통계
   - 차트 시각화

---

## PDA 기능 (구현 예정)

> **⚠️ 참고**: PDA 기능은 현재 구현 예정입니다. 아래 내용은 향후 구현될 기능의 사용 방법을 설명합니다.

PDA 시스템은 현장에서 바코드 스캔을 통해 빠르게 작업을 처리할 수 있도록 설계될 예정입니다.

### 메인 화면

PDA 메인 화면에는 다음 정보가 표시될 예정입니다:

- **입고 현황 카드**
  - 예정: 오늘 입고 예정된 컨테이너 수
  - 완료: 오늘 입고 완료된 컨테이너 수
  - 남은수: 아직 입고되지 않은 컨테이너 수

- **출고 현황 카드**
  - 예정: 오늘 출고 예정된 지시서 수
  - 완료: 오늘 출고 완료된 지시서 수
  - 남은수: 아직 출고되지 않은 지시서 수

### 1. 입고 처리 (Receiving) - 구현 예정

**기능**: 바코드 스캔을 통해 입고를 등록합니다.

**예상 사용 방법:**
1. 메인 화면에서 **"입고 처리"** 클릭
2. 컨테이너 바코드 또는 라벨 바코드 스캔
3. 입고 정보 확인:
   - 컨테이너 번호
   - 제품 정보
   - 예정 입고일
4. 위치 코드 입력 (선택사항)
5. **"입고 등록"** 버튼 클릭

**주의사항:**
- 바코드 스캐너가 연결되어 있어야 합니다
- 스마트폰의 경우 카메라를 사용하여 바코드를 스캔할 수 있습니다
- 입고 계획에 등록된 컨테이너만 입고 처리 가능합니다

---

### 2. 출고 처리 (Shipping) - 구현 예정

**기능**: 출하증 또는 제품 바코드를 스캔하여 출고를 확정합니다.

**예상 사용 방법:**
1. 메인 화면에서 **"출고 처리"** 클릭
2. 출하증 바코드 또는 제품 바코드 스캔
3. 출고 정보 확인:
   - 컨테이너 번호
   - 제품 정보
   - 출고 예정일
4. **"출고 확정"** 버튼 클릭

---

### 3. 위치 찾기 (Location Finder) - 구현 예정

**기능**: 제품이나 컨테이너의 위치를 맵에서 확인합니다.

**예상 사용 방법:**
1. 메인 화면에서 **"위치 찾기"** 클릭
2. 제품 번호 또는 컨테이너 번호 입력/스캔
3. 맵에서 위치 확인:
   - 해당 위치가 하이라이트됩니다
   - 위치 정보가 표시됩니다

---

### 4. 출하지시서 생성 (Create Shipping Instruction) - 구현 예정

**기능**: 바코드 스캔을 통해 출하지시서를 생성합니다.

**예상 사용 방법:**
1. 메인 화면에서 **"출하지시서 생성"** 클릭
2. 컨테이너 바코드 스캔
3. 출고 정보 입력:
   - 출고 날짜
   - Delivery Location
4. **"출하지시서 생성"** 버튼 클릭

---

## 마스터 관리

관리자 대시보드의 **"⚙️ 마스터 관리"** 메뉴에서 다음 기능들을 사용할 수 있습니다:

### 1. ⚙️ 장소 마스터 관리 (Location Master)

**기능**: 창고 내 위치 정보를 관리합니다.

**주요 작업:**
- 위치 코드 등록/수정/삭제
- 위치 상태 관리 (사용 가능, 사용 중, 점검 중, 비활성화)
- 위치 좌표 설정 (x, y, width, height)
- 위치별 비고 입력

**사용 방법:**
1. 사이드바에서 "⚙️ 장소 마스터 관리" 클릭 (새 창에서 열림)
2. **"+ 새 위치 추가"** 버튼 클릭
3. 다음 정보 입력:
   - **위치 코드**: 고유한 위치 코드 (예: A1, B2-3)
   - **상태**: available (사용 가능), occupied (사용 중), maintenance (점검 중), disabled (비활성화)
   - **좌표**: x, y, width, height (맵 표시용)
   - **비고**: 추가 정보
4. **"저장"** 버튼 클릭

**위치 수정/삭제:**
- 목록에서 위치를 선택하여 수정
- **"삭제"** 버튼으로 삭제 (사용 중인 위치는 삭제 불가)

---

### 2. 🚨 문제 컨테이너 관리 (Flagged Containers)

**기능**: 문제가 있는 컨테이너를 관리합니다.

**주요 작업:**
- 문제 컨테이너 등록
- 문제 사유 입력
- 문제 해결 처리

**사용 방법:**
1. 사이드바에서 "🚨 문제 컨테이너 관리" 클릭
2. 컨테이너 번호 입력
3. 문제 사유 입력
4. **"등록"** 버튼 클릭

---

### 3. 🗺️ 시각적 위치 편집기 (Location Editor)

**기능**: SVG 기반 시각적 맵에서 위치를 편집합니다.

**주요 작업:**
- 위치 박스 그리기
- 위치 코드 입력
- 배경 요소 추가 (사각형, 텍스트)
- 배경 요소 저장

**사용 방법:**
1. 사이드바에서 "🗺️ 시각적 위치 편집기" 클릭
2. 도구 선택:
   - **위치 추가**: 위치 박스 그리기
   - **배경 추가**: 배경 요소 추가
3. 맵에서 클릭하여 요소 추가
4. **"저장"** 버튼으로 변경사항 저장

---

### 4. 🚚 Delivery Location 관리

**기능**: 배송지 정보를 관리합니다.

**주요 작업:**
- 배송지 등록/수정/삭제
- 배송지 주소 정보 관리

**사용 방법:**
1. 사이드바에서 "🚚 Delivery Location 관리" 클릭
2. **"+ 새 배송지 추가"** 버튼 클릭
3. 배송지 정보 입력:
   - 배송지 이름
   - 주소
   - 연락처 등
4. **"저장"** 버튼 클릭

---

## 주요 프로세스

### 입고 프로세스

1. **입고 계획 등록** (Admin)
   - 관리자가 입고 예정 컨테이너 정보를 등록합니다
   - 입고 날짜, 컨테이너 번호, 제품 정보, 위치 등을 입력합니다

2. **입고 처리** (현재: Admin 강제 입고 / 향후: PDA 바코드 스캔)
   - **현재**: 입고 계획 목록에서 "Force Receive" 버튼으로 강제 입고 처리
   - **향후**: PDA에서 바코드 스캔을 통해 입고 처리 (구현 예정)
   - 입고 시간이 자동으로 기록됩니다

3. **입고 확인** (Admin)
   - 관리자는 입고 계획과 실제 입고 현황을 비교하여 확인할 수 있습니다
   - 위치 보기에서 입고된 컨테이너의 위치를 확인할 수 있습니다

---

### 출고 프로세스

1. **출하지시서 생성** (Admin - 위치 보기 / 향후: PDA)
   - **현재**: 위치 보기에서 컨테이너를 선택하여 출하지시서 생성
   - **향후**: PDA에서 바코드 스캔으로 출하지시서 생성 (구현 예정)
   - 출고 날짜, 배송지 정보 입력
   - 생성 후 출하지시서 라벨 프린트 가능

2. **출고 처리** (향후: PDA - 선택사항)
   - **향후**: PDA에서 바코드 스캔을 통해 출고 처리 (구현 예정)
   - 출고 시간이 자동으로 기록됩니다

3. **출고 확정** (Admin)
   - 출고 확정 화면에서 출고 지시서 목록 확인
   - 출고일을 선택하여 출고 확정
   - 출고 확정 시 위치 정보가 제거되고 출고 상태가 업데이트됩니다

4. **출고 취소** (Admin)
   - 출고 확정된 항목을 취소하여 원복할 수 있습니다
   - 위치 정보가 복구되고 출고 상태가 '대기중'으로 변경됩니다

---

### 위치 관리 프로세스

1. **위치 마스터 등록** (Admin)
   - 장소 마스터 관리에서 위치 정보를 등록합니다
   - 위치 코드, 좌표, 상태 등을 설정합니다

2. **시각적 맵 구성** (Admin)
   - 시각적 위치 편집기에서 배경 요소와 위치 박스를 그립니다
   - 저장하면 입고 계획의 "빈 위치 시각적으로 보기"에서 사용됩니다

3. **위치 할당** (Admin - 입고 계획)
   - 입고 계획 등록 시 빈 위치를 선택합니다
   - 시각적 맵에서 클릭하여 위치를 선택할 수 있습니다

4. **위치 확인** (Admin / 향후: PDA)
   - **현재**: 위치 보기에서 컨테이너 위치를 확인합니다
   - **향후**: PDA의 위치 찾기에서 바코드 스캔으로 위치 확인 (구현 예정)

---

## 데이터베이스 구조

시스템은 Supabase를 사용하며, 주요 테이블은 다음과 같습니다:

### 주요 테이블

1. **mx_receiving_plan**: 입고 계획 정보
   - `id`: 고유 ID
   - `type`: 타입 (container/trailer)
   - `container_no`: 컨테이너 번호
   - `location_code`: 위치 코드
   - `receive_date`: 예정 입고일
   - `receiving_place`: 입고처
   - `remark`: 제품 정보
   - `trailer_seq`: 트레일러 시퀀스 (trailer 타입용)

2. **mx_receiving_items**: 입고 품목 정보
   - `id`: 고유 ID
   - `plan_id`: 입고 계획 ID
   - `container_no`: 컨테이너 번호
   - `label_id`: 라벨 ID
   - `location_code`: 위치 코드
   - `receiving_place`: 입고처
   - `remark`: 제품 정보

3. **mx_receiving_log**: 입고 로그
   - `id`: 고유 ID
   - `label_id`: 라벨 ID
   - `received_at`: 실제 입고 시간

4. **mx_shipping_instruction**: 출고 지시서
   - `id`: 고유 ID
   - `barcode`: 바코드
   - `container_no`: 컨테이너 번호
   - `shipping_date`: 출고 예정일
   - `status`: 상태 (pending/shipped)
   - `delivery_location_id`: 배송지 ID
   - `remark`: 제품 정보

5. **mx_shipping_instruction_items**: 출고 지시서 품목
   - `id`: 고유 ID
   - `shipping_instruction_id`: 출고 지시서 ID
   - `container_no`: 컨테이너 번호
   - `shipped_at`: 실제 출고 시간

6. **mx_locations**: 위치 마스터
   - `id`: 고유 ID
   - `location_code`: 위치 코드
   - `status`: 상태 (available/occupied/maintenance/disabled)
   - `x`, `y`, `width`, `height`: 좌표 정보
   - `remark`: 비고

7. **mx_background_elements**: 배경 요소 (시각적 맵용)
   - `id`: 고유 ID
   - `elements_data`: 배경 요소 데이터 (JSON)

8. **mx_delivery_locations**: 배송지 마스터
   - `id`: 고유 ID
   - `name`: 배송지 이름
   - `address`: 주소
   - 기타 배송지 정보

---

## 문제 해결

### 로그인이 안 될 때
- 비밀번호가 올바른지 확인하세요
- 브라우저의 로컬 스토리지를 확인하세요
- 페이지를 새로고침하세요
- 브라우저 캐시를 삭제하세요

### 데이터가 표시되지 않을 때
- 인터넷 연결을 확인하세요
- 브라우저 콘솔(F12)에서 오류 메시지를 확인하세요
- Supabase 연결 상태를 확인하세요
- 페이지를 새로고침하세요


### 위치 정보가 표시되지 않을 때
- 위치 마스터에 해당 위치가 등록되어 있는지 확인하세요
- 위치 코드 형식이 올바른지 확인하세요 (대소문자 구분)
- 위치 상태가 'available'인지 확인하세요

### 출하지시서가 생성되지 않을 때
- 컨테이너가 입고되어 있는지 확인하세요
- 위치 정보가 있는지 확인하세요
- 출고 날짜가 올바른지 확인하세요

### Excel 다운로드가 안 될 때
- 브라우저가 ExcelJS를 지원하는지 확인하세요
- 브라우저 콘솔에서 오류 메시지를 확인하세요
- 다른 브라우저에서 시도해보세요

### 위치 맵이 표시되지 않을 때
- 배경 요소가 저장되어 있는지 확인하세요
- 위치 마스터에 좌표 정보가 있는지 확인하세요
- 브라우저가 SVG를 지원하는지 확인하세요

---

## 부록

### 키보드 단축키
- 현재 버전에서는 특별한 키보드 단축키가 제공되지 않습니다.

### 브라우저 호환성
- Chrome (권장)
- Firefox
- Edge
- Safari

### 데이터 백업
- Supabase를 사용하므로 데이터는 자동으로 백업됩니다
- 필요시 Supabase 대시보드에서 백업을 확인할 수 있습니다

### 시스템 요구사항
- 인터넷 연결 필수
- 최신 브라우저 권장

---

## 버전 정보

- **시스템 버전**: 2.0.0
- **마지막 업데이트**: 2024년
- **기반 기술**: 
  - Supabase (데이터베이스)
  - Tailwind CSS (스타일링)
  - Vanilla JavaScript (프론트엔드)

---

## 문의 및 지원

시스템 사용 중 문제가 발생하거나 질문이 있으시면 관리자에게 문의하세요.

---

**© 2024 MX Warehouse Management System. All rights reserved.**
