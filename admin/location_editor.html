<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì‹œê°ì  ìœ„ì¹˜ í¸ì§‘ê¸°</title>
  <link rel="icon" href="data:,">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <script src="config/config.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
  <style>
    .editor-container {
      display: flex;
      height: calc(100vh - 100px);
      gap: 16px;
    }
    .toolbar {
      width: 280px;
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 16px;
      overflow-y: auto;
    }
    .canvas-container {
      flex: 1;
      background: #f9fafb;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 16px;
      overflow: auto;
      position: relative;
    }
    .canvas {
      background: white;
      border: 2px solid #333;
      position: relative;
      min-width: 1000px;
      min-height: 800px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    .location-box {
      position: absolute;
      border: 2px solid #3b82f6;
      background: rgba(59, 130, 246, 0.1);
      cursor: move;
      user-select: none;
      z-index: 10; /* ë°°ê²½ ìš”ì†Œë³´ë‹¤ ìœ„ì— í‘œì‹œ */
    }
    /* ìƒíƒœë³„ ìƒ‰ìƒ */
    .location-box.status-available {
      border-color: #10b981;
      background: rgba(16, 185, 129, 0.15);
    }
    .location-box.status-occupied {
      border-color: #f59e0b;
      background: rgba(245, 158, 11, 0.15);
    }
    .location-box.status-maintenance {
      border-color: #3b82f6;
      background: rgba(59, 130, 246, 0.15);
    }
    .location-box.status-disabled {
      border-color: #6b7280;
      background: rgba(107, 114, 128, 0.2);
    }
    .location-box.selected {
      border-color: #ef4444;
      background: rgba(239, 68, 68, 0.3);
      z-index: 11; /* ì„ íƒëœ ìœ„ì¹˜ ë°•ìŠ¤ëŠ” ë” ìœ„ì— */
      box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.5);
    }
    .background-element {
      position: absolute;
      border: 2px dashed #9333ea;
      cursor: move;
      user-select: none;
      z-index: 1; /* ìœ„ì¹˜ í¸ì§‘ ëª¨ë“œì—ì„œëŠ” ìœ„ì¹˜ ë°•ìŠ¤ë³´ë‹¤ ë’¤ì— í‘œì‹œ */
    }
    .background-element.selected {
      border-color: #ef4444;
      border-style: solid;
      border-width: 3px;
      z-index: 2; /* ì„ íƒëœ ë°°ê²½ ìš”ì†Œë„ ìœ„ì¹˜ í¸ì§‘ ëª¨ë“œì—ì„œëŠ” ë’¤ì— */
    }
    /* ìœ„ì¹˜ í¸ì§‘ ëª¨ë“œì¼ ë•Œ ë°°ê²½ ìš”ì†Œ í´ë¦­ ë¹„í™œì„±í™” */
    body:not(.background-mode) .background-element {
      pointer-events: none;
    }
    /* ë°°ê²½ í¸ì§‘ ëª¨ë“œì¼ ë•Œ ë°°ê²½ ìš”ì†Œê°€ ìœ„ì— í‘œì‹œë˜ê³  í´ë¦­ ê°€ëŠ¥ */
    body.background-mode .background-element {
      pointer-events: auto;
      z-index: 20; /* ë°°ê²½ í¸ì§‘ ëª¨ë“œì—ì„œëŠ” ìœ„ì¹˜ ë°•ìŠ¤ë³´ë‹¤ ìœ„ì— */
    }
    body.background-mode .background-element.selected {
      z-index: 21; /* ì„ íƒëœ ë°°ê²½ ìš”ì†ŒëŠ” ë” ìœ„ì— */
    }
    /* ë°°ê²½ í¸ì§‘ ëª¨ë“œì¼ ë•Œ ìœ„ì¹˜ ë°•ìŠ¤ëŠ” ë’¤ì— */
    body.background-mode .location-box {
      pointer-events: none;
      z-index: 1;
    }
    .background-element.rect-element {
      background: rgba(211, 211, 211, 0.5);
    }
    .background-element.text-element {
      background: transparent;
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .background-element.text-element.selected {
      border: 2px dashed #ef4444;
    }
    .draw-preview {
      position: absolute;
      border: 2px dashed #9333ea;
      background: rgba(147, 51, 234, 0.1);
      pointer-events: none;
      z-index: 200;
    }
    .selection-box {
      position: absolute;
      border: 2px dashed #3b82f6;
      background: rgba(59, 130, 246, 0.1);
      pointer-events: none;
      z-index: 150;
    }
    .location-box.selection-highlight {
      border-color: #3b82f6;
      background: rgba(59, 130, 246, 0.15);
    }
    .canvas.drawing {
      cursor: crosshair;
    }
    .canvas.drawing .location-box,
    .canvas.drawing .background-element {
      pointer-events: none;
    }
    .location-box .resize-handle {
      position: absolute;
      width: 12px;
      height: 12px;
      background: #3b82f6;
      border: 2px solid white;
      border-radius: 50%;
      cursor: nwse-resize;
      right: -6px;
      bottom: -6px;
      z-index: 100;
      display: none; /* ê¸°ë³¸ì ìœ¼ë¡œ ìˆ¨ê¹€ */
    }
    .location-box.selected .resize-handle {
      display: block; /* ì„ íƒëœ ê²½ìš°ì—ë§Œ í‘œì‹œ */
      background: #ef4444;
    }
    .background-element .resize-handle {
      position: absolute;
      width: 12px;
      height: 12px;
      background: #9333ea;
      border: 2px solid white;
      border-radius: 50%;
      cursor: nwse-resize;
      right: -6px;
      bottom: -6px;
      z-index: 100;
      display: none; /* ê¸°ë³¸ì ìœ¼ë¡œ ìˆ¨ê¹€ */
    }
    .background-element.selected .resize-handle {
      display: block; /* ì„ íƒëœ ê²½ìš°ì—ë§Œ í‘œì‹œ */
      background: #ef4444;
    }
    .location-label {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-weight: bold;
      font-size: 10px;
      pointer-events: none;
      color: #1f2937;
    }
    .grid-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(to right, #e5e7eb 1px, transparent 1px),
        linear-gradient(to bottom, #e5e7eb 1px, transparent 1px);
      background-size: 20px 20px;
      pointer-events: none;
      opacity: 0.3;
    }
    .bounding-box {
      position: absolute;
      border: 2px dashed #3b82f6;
      background: rgba(59, 130, 246, 0.05);
      pointer-events: none;
      z-index: 12;
    }
    .alignment-guide {
      position: absolute;
      background: #3b82f6;
      pointer-events: none;
      z-index: 13;
      opacity: 0.6;
    }
    .alignment-guide.horizontal {
      height: 1px;
      width: 100%;
    }
    .alignment-guide.vertical {
      width: 1px;
      height: 100%;
    }
    .zoom-controls {
      position: absolute;
      top: 10px;
      right: 10px;
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 8px;
      display: flex;
      gap: 4px;
      z-index: 1000;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .minimap {
      position: absolute;
      bottom: 10px;
      right: 10px;
      width: 200px;
      height: 150px;
      background: white;
      border: 2px solid #333;
      border-radius: 4px;
      z-index: 1000;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      overflow: hidden;
    }
    .minimap-viewport {
      position: absolute;
      border: 2px solid #3b82f6;
      background: rgba(59, 130, 246, 0.2);
      pointer-events: none;
      z-index: 1001;
    }
    .search-box {
      position: absolute;
      top: 10px;
      left: 10px;
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      padding: 8px;
      z-index: 1000;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      min-width: 250px;
    }
    .context-menu {
      position: absolute;
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 4px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      z-index: 2000;
      min-width: 150px;
      display: none;
    }
    .context-menu-item {
      padding: 8px 12px;
      cursor: pointer;
      font-size: 14px;
    }
    .context-menu-item:hover {
      background: #f3f4f6;
    }
    .context-menu-divider {
      height: 1px;
      background: #e5e7eb;
      margin: 4px 0;
    }
  </style>
</head>
<body class="bg-gray-100 p-6">
  <div class="max-w-[1800px] mx-auto">
    <div class="bg-white rounded-lg shadow-lg p-6 mb-4">
      <div class="flex justify-between items-center mb-2">
        <div>
          <h1 class="text-3xl font-bold mb-2">ğŸ—ºï¸ ì‹œê°ì  ìœ„ì¹˜ í¸ì§‘ê¸°</h1>
          <p class="text-gray-600">ë§ˆìš°ìŠ¤ë¡œ ìœ„ì¹˜ë¥¼ ë“œë˜ê·¸í•˜ì—¬ ë°°ì¹˜í•˜ê³ , í¬ê¸°ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </div>
        <div class="flex gap-2">
          <a href="location_master.html" target="_blank" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
            âš™ï¸ ì¥ì†Œ ë§ˆìŠ¤í„° ê´€ë¦¬
          </a>
        </div>
      </div>
      </div>
    </div>

    <div class="editor-container">
      <!-- ì™¼ìª½ íˆ´ë°” -->
      <div class="toolbar">
        <h2 class="text-xl font-bold mb-4">ë„êµ¬</h2>
        
        <!-- ëª¨ë“œ ì „í™˜ -->
        <div class="mb-6">
          <h3 class="font-semibold mb-2">í¸ì§‘ ëª¨ë“œ</h3>
          <div class="flex gap-2">
            <button id="modeLocation" class="flex-1 bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700 font-semibold">
              ìœ„ì¹˜ í¸ì§‘
            </button>
            <button id="modeBackground" class="flex-1 bg-gray-300 text-gray-800 px-3 py-2 rounded hover:bg-gray-400">
              ë°°ê²½ í¸ì§‘
            </button>
          </div>
        </div>

        <!-- ìƒˆ ìœ„ì¹˜ ì¶”ê°€ -->
        <div id="locationMode" class="mb-6">
          <h3 class="font-semibold mb-2">ìƒˆ ìœ„ì¹˜ ì¶”ê°€</h3>
          <input type="text" id="newLocationCode" placeholder="ìœ„ì¹˜ ì½”ë“œ (ì˜ˆ: A-01)" 
                 class="w-full border rounded px-3 py-2 mb-2">
          <div class="grid grid-cols-2 gap-2 mb-2">
            <div>
              <label class="block text-xs text-gray-600 mb-1">ë„ˆë¹„</label>
              <input type="number" id="newLocationWidth" placeholder="ë„ˆë¹„" min="1" value="60"
                     class="w-full border rounded px-3 py-2">
            </div>
            <div>
              <label class="block text-xs text-gray-600 mb-1">ë†’ì´</label>
              <input type="number" id="newLocationHeight" placeholder="ë†’ì´" min="1" value="20"
                     class="w-full border rounded px-3 py-2">
            </div>
          </div>
          <button id="addLocationBtn" class="w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 mb-2">
            ìœ„ì¹˜ ì¶”ê°€
          </button>
        </div>

        <!-- ìƒˆ ë°°ê²½ ìš”ì†Œ ì¶”ê°€ -->
        <div id="backgroundMode" class="mb-6 hidden">
          <h3 class="font-semibold mb-2">ë°°ê²½ ìš”ì†Œ ì¶”ê°€</h3>
          <div class="mb-3">
            <label class="block text-sm font-semibold mb-1">ì¶”ê°€ ë°©ë²•</label>
            <div class="flex gap-2 mb-2">
              <button id="drawModeBtn" class="flex-1 bg-purple-600 text-white px-3 py-2 rounded hover:bg-purple-700 font-semibold">
                âœï¸ ê·¸ë¦¬ê¸° ëª¨ë“œ
              </button>
              <button id="addModeBtn" class="flex-1 bg-gray-300 text-gray-800 px-3 py-2 rounded hover:bg-gray-400">
                â• ì§ì ‘ ì¶”ê°€
              </button>
            </div>
          </div>
          
          <!-- ê·¸ë¦¬ê¸° ëª¨ë“œ ì•ˆë‚´ -->
          <div id="drawModeInfo" class="mb-3 p-2 bg-purple-50 border border-purple-200 rounded text-sm text-purple-800">
            ìº”ë²„ìŠ¤ì—ì„œ ë§ˆìš°ìŠ¤ë¥¼ ë“œë˜ê·¸í•˜ì—¬ ì‚¬ê°í˜•ì„ ê·¸ë¦¬ì„¸ìš”!
          </div>
          
          <!-- ì§ì ‘ ì¶”ê°€ ëª¨ë“œ -->
          <div id="addModePanel" class="hidden">
            <select id="backgroundType" class="w-full border rounded px-3 py-2 mb-2">
              <option value="rect">ì‚¬ê°í˜• êµ¬ì—­</option>
              <option value="text">í…ìŠ¤íŠ¸ ë¼ë²¨</option>
            </select>
            <input type="text" id="backgroundLabel" placeholder="ë¼ë²¨/ì´ë¦„ (ì„ íƒì‚¬í•­)" 
                   class="w-full border rounded px-3 py-2 mb-2">
            <div id="textOptions" class="hidden mb-2">
              <div class="grid grid-cols-2 gap-2 mb-2">
                <input type="number" id="textX" placeholder="X ìœ„ì¹˜" value="100"
                       class="border rounded px-2 py-1 text-sm">
                <input type="number" id="textY" placeholder="Y ìœ„ì¹˜" value="100"
                       class="border rounded px-2 py-1 text-sm">
              </div>
              <div class="grid grid-cols-2 gap-2 mb-2">
                <input type="number" id="textFontSize" placeholder="ê¸€ì í¬ê¸°" value="14" min="8" max="72"
                       class="border rounded px-2 py-1 text-sm">
                <input type="color" id="textColor" value="#000000"
                       class="border rounded px-2 py-1 h-8 text-sm">
              </div>
            </div>
            <button id="addBackgroundBtn" class="w-full bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700">
              ë°°ê²½ ìš”ì†Œ ì¶”ê°€
            </button>
          </div>
        </div>

        <!-- ì¼ê´„ í¸ì§‘ ë„êµ¬ (ìœ„ì¹˜ ëª¨ë“œ) -->
        <div id="locationBatchTools" class="mb-6 hidden">
          <div class="flex justify-between items-center mb-2">
            <h3 class="font-semibold">ì¼ê´„ í¸ì§‘ (ì„ íƒ: <span id="selectedCount">0</span>ê°œ)</h3>
            <button id="clearSelectionBtn" class="bg-gray-400 text-white px-2 py-1 rounded text-xs hover:bg-gray-500">
              âœ• í•´ì œ
            </button>
          </div>
          <div class="bg-yellow-50 p-3 rounded border border-yellow-200">
            <div class="grid grid-cols-2 gap-2 mb-2">
              <button id="alignLeftBtn" class="bg-blue-500 text-white px-2 py-1 rounded text-sm hover:bg-blue-600">
                â¬…ï¸ ì™¼ìª½
              </button>
              <button id="alignRightBtn" class="bg-blue-500 text-white px-2 py-1 rounded text-sm hover:bg-blue-600">
                â¡ï¸ ì˜¤ë¥¸ìª½
              </button>
              <button id="alignTopBtn" class="bg-blue-500 text-white px-2 py-1 rounded text-sm hover:bg-blue-600">
                â¬†ï¸ ìœ„
              </button>
              <button id="alignBottomBtn" class="bg-blue-500 text-white px-2 py-1 rounded text-sm hover:bg-blue-600">
                â¬‡ï¸ ì•„ë˜
              </button>
            </div>
            <div class="grid grid-cols-2 gap-2 mb-2">
              <button id="matchHeightBtn" class="bg-green-500 text-white px-2 py-1 rounded text-sm hover:bg-green-600">
                ğŸ“ ë†’ì´ ë§ì¶”ê¸°
              </button>
              <button id="matchWidthBtn" class="bg-green-500 text-white px-2 py-1 rounded text-sm hover:bg-green-600">
                ğŸ“ ë„ˆë¹„ ë§ì¶”ê¸°
              </button>
            </div>
            <div class="grid grid-cols-2 gap-2">
              <button id="distributeHorizontalBtn" class="bg-purple-500 text-white px-2 py-1 rounded text-sm hover:bg-purple-600">
                â†”ï¸ ê°€ë¡œ ê°„ê²©
              </button>
              <button id="distributeVerticalBtn" class="bg-purple-500 text-white px-2 py-1 rounded text-sm hover:bg-purple-600">
                â†•ï¸ ì„¸ë¡œ ê°„ê²©
              </button>
            </div>
          </div>
        </div>

        <!-- ì„ íƒëœ ìœ„ì¹˜ ì •ë³´ -->
        <div id="selectedLocationInfo" class="mb-6 hidden">
          <h3 class="font-semibold mb-2">ì„ íƒëœ ìœ„ì¹˜</h3>
          <div class="bg-gray-50 p-3 rounded">
            <div class="mb-2">
              <label class="text-sm text-gray-600">ìœ„ì¹˜ ì½”ë“œ:</label>
              <input type="text" id="editLocationCode" class="w-full border rounded px-2 py-1">
            </div>
            <div class="mb-2">
              <label class="text-sm text-gray-600">X:</label>
              <input type="number" id="editX" class="w-full border rounded px-2 py-1" step="1">
            </div>
            <div class="mb-2">
              <label class="text-sm text-gray-600">Y:</label>
              <input type="number" id="editY" class="w-full border rounded px-2 py-1" step="1">
            </div>
            <div class="mb-2">
              <label class="text-sm text-gray-600">ë„ˆë¹„:</label>
              <input type="number" id="editWidth" class="w-full border rounded px-2 py-1" step="1" min="20">
            </div>
            <div class="mb-2">
              <label class="text-sm text-gray-600">ë†’ì´:</label>
              <input type="number" id="editHeight" class="w-full border rounded px-2 py-1" step="1" min="20">
            </div>
            <div class="mb-2">
              <label class="text-sm text-gray-600">ìƒíƒœ:</label>
              <select id="editStatus" class="w-full border rounded px-2 py-1">
                <option value="available">ì‚¬ìš©ê°€ëŠ¥</option>
                <option value="occupied">ì ìœ ì¤‘</option>
                <option value="maintenance">ì ê²€ì¤‘</option>
                <option value="disabled">ì‚¬ìš©ë¶ˆê°€</option>
              </select>
            </div>
            <button id="saveLocationBtn" class="w-full bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 mb-2">
              ì €ì¥
            </button>
            <button id="deleteLocationBtn" class="w-full bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700">
              ì‚­ì œ
            </button>
          </div>
        </div>

        <!-- ì„ íƒëœ ë°°ê²½ ìš”ì†Œ ì •ë³´ -->
        <div id="selectedBackgroundInfo" class="mb-6 hidden">
          <h3 class="font-semibold mb-2">ì„ íƒëœ ë°°ê²½ ìš”ì†Œ</h3>
          <div class="bg-gray-50 p-3 rounded">
            <div class="mb-2">
              <label class="text-sm text-gray-600">ë¼ë²¨/ì´ë¦„:</label>
              <input type="text" id="editBackgroundLabel" class="w-full border rounded px-2 py-1">
            </div>
            <div class="mb-2">
              <label class="text-sm text-gray-600">X:</label>
              <input type="number" id="editBgX" class="w-full border rounded px-2 py-1" step="1">
            </div>
            <div class="mb-2">
              <label class="text-sm text-gray-600">Y:</label>
              <input type="number" id="editBgY" class="w-full border rounded px-2 py-1" step="1">
            </div>
            <div class="mb-2">
              <label class="text-sm text-gray-600">ë„ˆë¹„:</label>
              <input type="number" id="editBgWidth" class="w-full border rounded px-2 py-1" step="1" min="1">
            </div>
            <div class="mb-2">
              <label class="text-sm text-gray-600">ë†’ì´:</label>
              <input type="number" id="editBgHeight" class="w-full border rounded px-2 py-1" step="1" min="1">
            </div>
            <div class="mb-2">
              <label class="text-sm text-gray-600">ë°°ê²½ìƒ‰:</label>
              <input type="color" id="editBgFill" class="w-full border rounded px-2 py-1 h-10">
            </div>
            <div class="mb-2">
              <label class="text-sm text-gray-600">í…Œë‘ë¦¬ìƒ‰:</label>
              <input type="color" id="editBgStroke" class="w-full border rounded px-2 py-1 h-10">
            </div>
            <div class="mb-2">
              <label class="text-sm text-gray-600">í…ìŠ¤íŠ¸ ìƒ‰ìƒ (í…ìŠ¤íŠ¸ì¸ ê²½ìš°):</label>
              <input type="color" id="editBgTextColor" class="w-full border rounded px-2 py-1 h-10">
            </div>
            <div class="mb-2">
              <label class="text-sm text-gray-600">í…ìŠ¤íŠ¸ í¬ê¸° (í…ìŠ¤íŠ¸ì¸ ê²½ìš°):</label>
              <input type="number" id="editBgFontSize" class="w-full border rounded px-2 py-1" step="1" min="8" max="72" value="15">
            </div>
            <button id="saveBackgroundBtn" class="w-full bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 mb-2">
              ì €ì¥
            </button>
            <button id="deleteBackgroundBtn" class="w-full bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700">
              ì‚­ì œ
            </button>
          </div>
        </div>

        <!-- ì˜µì…˜ -->
        <div class="mb-6">
          <h3 class="font-semibold mb-2">ì˜µì…˜</h3>
          <label class="flex items-center mb-2">
            <input type="checkbox" id="snapToGrid" class="mr-2">
            <span class="text-sm">ê·¸ë¦¬ë“œì— ë§ì¶”ê¸°</span>
          </label>
          <label class="flex items-center mb-2">
            <input type="checkbox" id="showGrid" checked class="mr-2">
            <span class="text-sm">ê·¸ë¦¬ë“œ í‘œì‹œ</span>
          </label>
        </div>

        <!-- ë˜ëŒë¦¬ê¸°/ë‹¤ì‹œí•˜ê¸° ë²„íŠ¼ -->
        <div class="mb-4 grid grid-cols-2 gap-2">
          <button id="undoBtn" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 font-semibold disabled:opacity-50 disabled:cursor-not-allowed" disabled>
            â†¶ ë˜ëŒë¦¬ê¸°
          </button>
          <button id="redoBtn" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 font-semibold disabled:opacity-50 disabled:cursor-not-allowed" disabled>
            â†· ë‹¤ì‹œí•˜ê¸°
          </button>
        </div>

        <!-- ì €ì¥ ë²„íŠ¼ -->
        <button id="saveAllBtn" class="w-full bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 font-bold">
          ğŸ’¾ ëª¨ë“  ë³€ê²½ì‚¬í•­ ì €ì¥
        </button>
      </div>

      <!-- ìº”ë²„ìŠ¤ ì˜ì—­ -->
      <div class="canvas-container" id="canvasContainer">
        <div class="canvas" id="canvas">
          <div class="grid-overlay" id="gridOverlay"></div>
          <!-- ìœ„ì¹˜ ë°•ìŠ¤ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë¨ -->
        </div>
        
        <!-- ì¤Œ ì»¨íŠ¸ë¡¤ -->
        <div class="zoom-controls">
          <button id="zoomOutBtn" class="bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded text-sm">âˆ’</button>
          <span id="zoomLevel" class="px-3 py-1 text-sm font-semibold">100%</span>
          <button id="zoomInBtn" class="bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded text-sm">+</button>
          <button id="resetZoomBtn" class="bg-gray-200 hover:bg-gray-300 px-2 py-1 rounded text-xs ml-1">ë¦¬ì…‹</button>
        </div>
        
        <!-- ê²€ìƒ‰ ë°•ìŠ¤ -->
        <div class="search-box">
          <input type="text" id="searchInput" placeholder="ìœ„ì¹˜ ì½”ë“œ ê²€ìƒ‰..." 
                 class="w-full border rounded px-2 py-1 text-sm">
          <div id="searchResults" class="mt-2 max-h-40 overflow-y-auto hidden"></div>
        </div>
        
        <!-- ë¯¸ë‹ˆë§µ -->
        <div class="minimap" id="minimap">
          <div class="minimap-viewport" id="minimapViewport"></div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´ -->
  <div class="context-menu" id="contextMenu">
    <div class="context-menu-item" data-action="copy">ë³µì‚¬ (Ctrl+C)</div>
    <div class="context-menu-item" data-action="paste">ë¶™ì—¬ë„£ê¸° (Ctrl+V)</div>
    <div class="context-menu-item" data-action="duplicate">ë³µì œ (Ctrl+D)</div>
    <div class="context-menu-divider"></div>
    <div class="context-menu-item" data-action="delete">ì‚­ì œ (Delete)</div>
    <div class="context-menu-divider"></div>
    <div class="context-menu-item" data-action="selectAll">ì „ì²´ ì„ íƒ (Ctrl+A)</div>
    <div class="context-menu-item" data-action="clearSelection">ì„ íƒ í•´ì œ</div>
  </div>

  <script src="js/location_editor.js"></script>
</body>
</html>
