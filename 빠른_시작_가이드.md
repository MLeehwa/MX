# 🚀 새 로케이션 빠른 시작 가이드

## 3단계로 완료하기

### 1️⃣ PowerShell 스크립트 실행

```powershell
cd c:\Users\LHA-M\WP1
.\WP2_마이그레이션.ps1
```

이 스크립트가 자동으로:
- ✅ WP1 폴더를 WP2로 복사
- ✅ 모든 JavaScript 파일에서 `wp1_` → `wp2_` 변경
- ✅ 모든 SQL 파일에서 `wp1_` → `wp2_` 변경

### 2️⃣ Supabase에서 테이블 생성

1. Supabase 대시보드 → SQL Editor 열기
2. `admin/sql/wp2_create_all_tables.sql` 파일 내용 복사
3. SQL Editor에 붙여넣고 **RUN** 클릭

**또는** 다음 SQL을 직접 실행:

```sql
-- wp2_locations 테이블 생성
CREATE TABLE IF NOT EXISTS wp2_locations (
  id BIGSERIAL PRIMARY KEY,
  location_code TEXT NOT NULL UNIQUE,
  status TEXT NOT NULL DEFAULT 'available' CHECK (status IN ('available', 'occupied', 'maintenance', 'disabled')),
  x INTEGER,
  y INTEGER,
  width INTEGER,
  height INTEGER,
  remark TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- wp2_delivery_locations 테이블 생성
CREATE TABLE IF NOT EXISTS wp2_delivery_locations (
  id BIGSERIAL PRIMARY KEY,
  location_name TEXT NOT NULL UNIQUE,
  address TEXT,
  contact_person TEXT,
  contact_phone TEXT,
  contact_email TEXT,
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- 나머지는 wp2_create_all_tables.sql 파일 참조
```

### 3️⃣ 테스트

1. `c:\Users\LHA-M\WP2\index.html` 열기
2. 로그인 (비밀번호: 12345)
3. **마스터 관리** → **장소 마스터 관리**에서 새 위치 추가 테스트

## ✅ 완료!

이제 WP1과 WP2는 완전히 독립적으로 작동합니다.

## 📝 참고사항

- **공통 테이블**: `receiving_plan`, `receiving_items`, `shipping_instruction` 등은 WP1과 WP2가 공유합니다.
- **분리된 테이블**: `wp1_locations`, `wp2_locations`는 완전히 별도입니다.
- **같은 Supabase 계정**: 설정 파일은 변경할 필요 없습니다.

## 🔧 문제 해결

**오류: "Could not find the 'wp2_locations' column"**
→ Supabase에서 테이블이 생성되지 않았습니다. 2단계를 다시 확인하세요.

**오류: "테이블이 이미 존재합니다"**
→ 정상입니다. `IF NOT EXISTS`로 인해 무시됩니다.
